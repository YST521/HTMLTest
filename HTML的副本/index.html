
<!doctype html><!--声明文档类型:html-->
<html><!--超文本标记语言  根目录节点标签-->
	<head><!--头部:非可视化标签-->
		<meta charset="utf-8"><!--字符编码:国际编码-->
		<title>雨滴</title>
		
		<meta name="description" content="描述:对网页文档的大概的介绍">
		<!--关键词:提供给搜索引擎搜索网站使用-->
		<meta name="keywords" content="关键词1,关键词2">
			
			<meta charset="utf-8" />
	   <meta name="author" content="YST"> <!--通过 ：meta 标签设置网页作者。-->
	   	<meta name="keywords"  content="HTML学习"> <!--通过 ：meta 标签设置网页描述。-->
		<!--两秒刷新一次-->
		<!--<meta http-equiv="refresh" content="2">-->
		<title>HTML标签熟悉</title>
				<!--base-->
		<!--<base href="http://www.runoob.com/html/html-head.html" target="_blank" />-->

		
		<style type="text/css">
			/*清空所有布局防止干扰*/
			*{
				margin:0;
				padding:0;
			}
			canvas{
				/*width:500px;
				height:500px;
				 style="position:absolute;z-index:-2";*/
				
				display:block;
				background:#000;
				 style="position:absolute;z-index:-2";
		
				
				/*
					canvas默认的宽高是300*150
					500/300 = 1.6667
					500/150 = 3.333
				*/
			}
			
			img{
			width: 100px;
			height: 100px;
		}
		
		#directory{
			padding: 0px;
			margin: 0px;
			color: white;
			font-size: 25px;
		}
		a{
			color:  white;
			font-size: 25px;
		}
	 
		</style>
		
		
	</head>
	<body><!--身体 可视化标签-->
		
	

		
		<canvas id="canvas" style="position:absolute;z-index:-1;">	
			<!-- id属性比写且唯一；
     width和height不写也可以显示，如果对其有要求是要写的；
     canvas默认没有边框样式，需要设置才能看见边框范围，
     通过实践发现它不是块级元素，因为它不独占一行。 -->
    
		
		</canvas>
		
					<div id="directory">
						<h2 style="">html5学习笔记</h2><br /><br />
					<!--目录-->
		  <div >学习网站:</div>
		<a href="http://www.runoob.com/html/html-css.html">菜鸟教程</a><br />
		<a href="http://www.w3school.com.cn/h.asp">W3C</a><br />
	   <a href="https://www.baidu.com/s?wd=html%20video&rsv_spt=1&rsv_iqid=0xd5efa0c70001e84f&issp=1&f=3&rsv_bp=1&rsv_idx=2&ie=utf-8&rqlang=cn&tn=baiduhome_pg&rsv_enter=0&oq=html%2520video&rsv_t=74fcg4f%2Bdfa4NMyhrEh7Hn2%2BMwa7E%2BseZEDloDEIhy3E9K5AUQcbo6JsH%2FUzn3615dZt&rsv_pq=f112c50e0000d966&prefixsug=html%2520video&rsp=1&inputT=1146862&rsv_sug4=1147904">百度搜索 搜索标签使用方法（带html前缀方便过滤，看离现在时间最近的 比较新的）:HTML video </a>
		<br<div>对于标签的学习 大多使用常见的几个 但要知道其他的 遇到标签不熟可在w3school上查使用方法 最长用的还是div</div>
		<div>====================================</div><br />
			<a href="htmls/HtmlCollect.html">HTML标签练习</a><br />
			<a href="htmls/CssHtml.html">CSS练习选择器</a><br />
			<a href="htmls/CSSBOX.html">CSS盒子模型练习</a><br />
			<a href="htmls/SaveData.html">数据存储</a><br />
			<a href="http://es6.ruanyifeng.com/">ES6框架学习</a><br />
			<a href="https://github.com/whxaxes/canvas-test">动画Demo</a><br />
			<a href="shotFire/shotFire.html"> 烟花</a><br />
				
			</div>
			
		<!-- <div style=" color:  white; width:  100px ;height: 100px; border: solid  white; "> 54675786876896</div>-->
		
		<!--雨滴-->
		<script type="text/javascript">
//			document.getElementById('canvas').style.backgroundImage = 'url("' + context.canvas.toDataURL() + '")';
			
			var can = document.getElementById("canvas");
			//设置画布的绘图环境
			var cxt = can.getContext("2d");
			//设置画布的宽高
			var w = can.width = window.innerWidth;
			var h = can.height = window.innerHeight;
			window.onresize = function(){
				w = can.width = window.innerWidth;
				h = can.height = window.innerHeight;
			}
			/*//绘制一个矩形 xy坐标 wh宽高
			//cxt.rect(50,50,100,100);//规定矩形的路径
			cxt.fillStyle = "red";//设置填充方法的颜色
			//cxt.fill();//填充方法绘制一个实心的矩形
			//cxt.fillRect(50,50,100,100);
			//绘制一个圆形
			//xy圆心坐标  r半径 绘制整圆 顺时针/逆时针
			cxt.arc(250,250,50,0,Math.PI*2,false);
			cxt.fill();
			//设置触笔方法的颜色
			cxt.strokeStyle = "#fff";
			cxt.stroke();//触笔方法绘制空心圆

			var y = 0;
			setInterval(function(){
				y+=2;
				//先清空画布
				cxt.clearRect(0,0,w,h);
				cxt.fillRect(50,y,100,100);
			},30)*/
			/*
				面向过程
				面向对象
			*/
			//创建一个雨滴对象
			function Drop(){}//代表人类(概念)
			//添加原型(给人添加属性)
			Drop.prototype = {
				//初始化功能
				init : function(){
					//初始化x y 坐标
					this.x = random(0,w);
					this.y = 0;
					this.vy = random(4,5);//y坐标改变的速度
					//console.log(this)谁用指代谁
					this.l = random(0.8*h,0.9*h);//下落的高度
					this.r = 1;//初始半径
					this.vr = 1;//半径增大的速度
					this.a = 1;//初始透明度
					this.va = 0.96;//透明度改衰减系数
				},
				draw : function(){
					if (this.y > this.l)
					{
						//绘制圆形
						cxt.beginPath();//开始路径
						cxt.strokeStyle = "rgba(0,255,255,"+this.a+")";
						cxt.arc(this.x,this.y,this.r,0,Math.PI*2,false);
						cxt.stroke();
					}else{
						cxt.fillStyle = "#0ff";
						cxt.fillRect(this.x,this.y,2,10);
					}
					//更新坐标
					this.update();
				},
				//y坐标更新的过程
				update : function(){
					//雨滴下落
					if (this.y < this.l)
					{
						this.y += this.vy;
					}else{//半径增大
						/*if (this.r < 50)
						{
							this.r += this.vr;
						}*/
						if (this.a > 0.03)
						{
							this.r += this.vr;
							if (this.r > 50)
							{
								//让透明度减小了 
								this.a *= this.va;
							}
						}else{
							//重新初始化雨滴
							this.init();
						}
						
					}
					
				}
			}
			//实例化雨滴对象
			/*var drop = new Drop();
			//console.log(drop)
			drop.init();
			setInterval(function(){
				//cxt.clearRect(0,0,w,h);
				//绘制一个透明层来覆盖
				cxt.fillStyle = "rgba(0,0,0,0.1)";
				cxt.fillRect(0,0,w,h);
				//先绘制透明层 再绘制雨滴
				drop.draw();
			},30)*/
			
			var drops = [];
			for (var i=0;i<30 ;i++ )
			{
				setTimeout(function(){
					var drop = new Drop();
					drop.init();
					drops.push(drop)
				},i*200)
				
			}
			//console.log(drops)
			//setInterval(function(){
				function move(){
					cxt.fillStyle = "rgba(0,0,0,0.1)";
					cxt.fillRect(0,0,w,h);
					for (var i=0;i<drops.length ;i++ )
					{
						drops[i].draw()
					}
					requestAnimationFrame(move);
				}
				
			//},1000/60)
			move();
			//生成随机数
			function random(min,max){
				return Math.random()*(max - min) + min;
			}
		</script>
	</body>
</html>




